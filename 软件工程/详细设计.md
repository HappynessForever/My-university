[TOC]

## 详细设计

​		详细设计的目标不仅仅是逻辑上正确地实现每个模块的功能，更重要的是设计出的处理过程应该尽可能简明易懂。结构程序设计技术是实现上述目标的关键技术，是详细设计的逻辑基础。

### 结构程序设计

基本控制结构：顺序、选择、循环

定义：结构程序设计是尽可能少用GO TO语句的程序设计方法。最好仅在检测出错误时才使用GO TO语句，而且应该总是使用向前GO TO语句。

### 人机界面设计

人机界面设计是接口设计的一个重要的组成部分。

#### 设计问题

**1、系统响应时间**

​		系统响应时间的两个重要属性：长度和易变性。长度是指时间的长短，过长和过短都不好；易变性是指系统响应时间相对平均响应时间的偏差。例如，稳定在1秒的响应时间比从0.1s~2.5s变化的响应时间要好。

**2、用户帮助措施**

​		用户帮助措施分为两类：集成的（集成在系统内部，一开始设计就在系统里）和附加的（后期添加到软件中，比如说明书之类）。

​		具体设计帮助措施时，必须解决下述的一系列问题。

（1）在用户与系统交互期间，是否在任何时候都能获得有关于系统任何功能的帮组信息？有2选择：提供部分功能的帮助信息和提供全部功能的帮助信息。

（2）用户怎样请求帮组？有3种选择：帮助菜单，特殊功能键和help命令。

（3）怎样显示帮助信息？有3种选择：在独立的窗口中，指出参考某个文档（不理想）和在屏幕固定位置显示简短提示。

（4）用户怎样返回到正常的交互方式中？有2种选择：屏幕上的返回按钮和功能键。

（5）怎样组织帮助信息？有3种选择：平面结构（所有信息都通过关键字访问），信息的层次结构（用户可在该结构中查到更详细的信息）和超文本结构。

**3、出错信息处理**

​		一般来说，交互式系统给出的出错信息或警告信息，应该具有下属性。

（1）信息应该用用户可以理解的术语描述问题。

（2）信息应该提供有助于从错误中恢复的建设性意见。

（3）信息应该指出错误可能导致哪些负面后果（例如，破坏数据文件），以便用户检查是否出现了这些问题，并在确实出现问题及时解决。

（4）信息应该伴随着听觉或视觉上的提示。

（5）信息不能带有指责色彩。

**4、命令交互**

​		在命令交互方式时，必须考虑下列设计问题。

（1）是否每个菜单选项都有对应的命令？

（2）采用何种命令形式？有3中选择：控制序列、功能键和输入命令。

（3）学习记忆难度有多大？忘记命令了怎么办？

（4）用户是否可以定制或缩写命令？

#### 设计过程

用户建议——原型设计——用户试用评估——原型设计。。。——符合要求的原型

在创建了用户界面的设计模型之后，可以运用下述评估标准对设计进行早期复审。

（1）系统及其界面的规格说明书的长度和复杂程度，预示了用户学习使用该系统所需要的工作量。

（2）系统的交互时间和总体效率。

（3）记忆的系统内的操作功能时间。

（4）界面风格、帮助措施和出错处理协议。

#### 人机界面设计指南

​		用户界面设计主要依靠设计者的经验。目标是设计出友好、高效的人机界面。

待完成。

### 过程设计的工具

描述程序处理过程的工具称为过程设计的工具，大致可以分为3类：图形、表格和语言。

**程序流程图**

​		程序流程图又称为程序框图。

优点：对控制流程的描绘很直观，便于初学者掌握。

缺点：（1）程序流程图本质不是逐步求精的好工具，它能使程序员过早地考虑程序的控制流程，而不去考虑程序的全局结构。

（2）程序路程图中用箭头代表控制流，因此程序员不受任何约束，可以完全不顾结构程序设计的精髓，随意转移控制。

（3）程序流程题不易表示数据结构。

**盒图**

​		不违背结构程序设计精髓的图形工具。盒图，又称N-S图。

优点：（1）功能域（即一个特定控制结构的作用域）明确，可以从盒图上一眼就看出来。

（2）不可能任意转移控制。

（3）很容易确定局部和全程数据的作用域。

（4）很容易表现嵌套关系，也可以表示模块的层次结构。

**过程设计语言**

​		过程设计语言PDL也称结英语或伪码。

优点：（1）提供的机制比图形全面，为保证详细设计与编码的质量创造了有利条件。

（2）注释嵌套在源程序中一起作为程序文档，**有利于软件的维护**。

（3）可**自动**生成程序代码，提高软件生产率。

缺点：（1）不如图形工具**形象直观**

（2）描述复杂的条件组合与动作间的对应关系时，不如判定表**清晰简单**。

### 面向数据结构的设计方法

计算机软件本质是信息处理系统，因此，可以根据软件所处理的信息的特征来设计软件。

**Jackson图**

逻辑关系有三种：顺序、选择、循环

逻辑数据结构有三种：顺序、选择、循环

五个步骤：

（1）分析并确定输入数据和输出数据的逻辑结构，并用jackson图描绘这些数据结构。

（2）找出输入数据结构和输出数据结构中有对应关系的数据单元。

（3）用下面三个规则从描绘数据结构的Jackson图导出描绘出现结构的Jackson图。

​		①	为每对有对应关系的数据单元，按照他们在数据结构图中的层次在程序结构图的相应层次画一个处理框。

​		②	根据输入数据结构中剩余的每个数据单元所处的层次，在程序结构图的相应层次分别为他们画上对应的处理框。

​		③	根据输出数据结构中剩余的每个数据单元所处的层次，在程序结构图的相应层次分别画上对应的处理框。

（4）列出所有操作和条件（包括分支条件和循环结束条件），并且把他们分配到程序结构图的适当位置。

（5）用伪码表示程序。

### 程序复杂程度的度量

## 小结

​		详细设计阶段的关键任务是确定怎样具体地实现用户需求的软件系统，也就是要设计出程序的“蓝图”。除了应该保证软件的可靠性之外，使将来编写出的程序可读性好、容易理解、容易测试和维护，是详细设计阶段最重要的目标。结构程序设计技术是实现上述目标的基本保证，是进行详细设计的逻辑基础。