[TOC]

# 总体设计

​		需求阶段弄清楚系统必须“做什么”，总体设计决定“怎么做”。通过这个阶段的工作将划分出组成系统的物理元素——程序、文件、数据库、人工过程和文档等。

## 设计过程

系统设计阶段：确定系统的具体实现方案；

结构设计阶段：确定软件结构。设计过程主要包括以下几个方向：

**1、设想供选择的方案**

​		在总体设计阶段分析员应该考虑各种可能的实现方案，并且力求从中选出最佳方案。提高系统的**性价比**。

**2、选取合理的方案**

​		一般需要选取低成本、中等成本和高成本的3种方案，并且对每个合理方案，分析员都应该准备下列4份材料。

（1）系统流程图

（2）组成系统的物理元素清单

（3）成本/效益分析

（4）实现这个系统的进度计划

**3、推荐最佳方案**

​		分析员综合利弊，推荐一个最佳方案，并且为推荐的方案制定详细的实现计划（工程网络）。接受推荐方案后，进入下一阶段——结构设计。

**4、功能分解**

​		为了最终实现目标系统，必须出组成这个系统的所有程序和文件（或数据库）。对程序（特别是复杂的大型程序）的设计，通常分为两个阶段完成：首先进行结构设计，人后进行过程设计。结构设计确定由那些模块组成，以及这些模块之间的关系；过程设计确定每个模块的处理过程。**结构设计**是总体设计阶段的任务，**过程设计**是详细阶段的任务。

​		为了确定软件结构，首先需要从实现接哦度把**复杂的功能进一步分解**。分析员结合算法描述仔细分析数据流图中的每个处理，如果一个处理的功能过分复杂，必须把它到的功能适当分解成一系列比较简单的功能。一般来说，经过分解之后应该使每个功能对大多数程序员而言都是**明显易懂**的。

**5、设计软件结构**

​		通常程序中的一个模块完成一个适当的子功能。应该把模块组织成良好的**层次关系系统**，顶层模块调用它的下层模块以实现程序的完整功能，每个下层模块再调用更下层的模块，从而完成程序的一个子功能，最下层的模块完成最具体的功能。

​		如果数据流图已经细化到适当的层次，则可以直接从数据流图映射出软件结构（面向数据流的设计方法）。

**6、设计数据库**

​		对于需要使用数据库的那些应用系统，软件工程师应该在需求分析阶段确定的系统数据需求的基础上，进一步设计数据库。

**7、制定测试计划**

​		在软件开发的**早期阶段考虑测试问题**，能促使软件设计人员在设计时注意提高软件的可测试性。

**8、书写文档**

（1）系统说明

（2）用户手册

（3）测试计划

（4）详细的实现计划

（5）数据库设计看结果

**9、复查和复审**

​		最后应该对总体设计的结果进行严格的技术审查，在技术审查通过之后再有客户从管理角度进行复审。

## 设计原理

- 模块化

- 抽象

- 逐步求精

- 信息隐藏和局部化

- 模块独立
  - 耦合
    - 尽量使用数据耦合，少用控制耦合和特征耦合，限制公共环境耦合的范围，完全不用内容耦合。
  - 内聚

## 启发规则

- 改进软件结构提高模块独立性
- 模块规模应该适中
- 深度、宽度、扇出和扇入都应适当
- 模块的作用域应该在控制域之内
- 力争降低模块接口的复杂程度
- 设计单入口单出口的模块
- 模块个性应该可以预测

## 描绘软件结构的图形工具

**层次图和HIPO图**

​		层次图用来描绘软件的层次结构。层次图中的一个矩形框代表一个模块，方框连写表示调用关系而不像层次方框图那样表示组成关系。层次方框图很适合在自顶向下设计软件的过程中使用。

​		HIPO图具有可追踪性。每张IPO图内都应该明显地标出它锁描绘的模块在H图（层次图）中的编号。

**结构图**

​		结构图和层次图类似，也是描绘软件结构的图形工具，图中一个方框代表一个模块，框内注明模块的名字或主要功能；方框之间的箭头（或直线）表示模块的调用关系。

## 面向数据流的设计方法

​		在软件工程需求分析阶段，信息流是一个关键考虑，通常用数据流涂描绘信息在系统中加工和流动的情况。面向数据流的设计方法定义了一些不同的“映射”，利用这些映射可以把数据流图变换成软件结构。因为任何软件系统都可以用数据流图表示，所以面向数据流的设计方法理论上可以设计任何软件的结构。通常所说的结构化设计方法（简称SD方法），也就是基于数据流的设计方法。

### 概念

**变换流**

​		根据基本系统模型，信息通常以“外部世界”的形式进入软件系统，经过处理以后再以“外部世界”的形式离开系统。

**事务流**

​		当数据流图的数据流是“以事务为中心”，数据沿输入通入到达一个处理T（事务中心），这个处理根据输入数据的类型在若干个动作序列中选出来一个来执行。这类数据流应该划为一类特殊的数据流，称为事务流。

（1）接收输入数据（输入数据又称为事务）

（2）分析每个事务以确定它的类型

（3）根据事务类型选取一条活动通路

**设计优化**

（1）在不考虑时间因素的前提下开发并精化软件结构

（2）在详细设计阶段选出最耗时间的那些模块，仔细地设计他们的处理过程（算法），以求提高效率。

（3）使用高级程序设计语言编写程序

（4）在软件中孤立出那些大量占用处理机资源的模块

（5）必要时重新设计或用依赖于机器的语言重写上诉大量占用资源的模块的代码，以求提高效率。

格言：“先使它能工作，然后再使它快起来。”

# 小结

​		总体设计阶段的基本目的是用比较抽象概括的方式确定系统如何完成预定的任务，也就是说，应该确定系统的物理配置方案，并且进而确定组成系统的每个抽象的结构。

# 总体设计2

总体设计分为三个阶段：

- 初始阶段：在给定数据流图进行复审和精化的基础上，将其转化为的初始的模块结构图。
- 精化设计：依据模块“高内聚，低耦合”的原则，精化初始的模块结构图，**并设计其中的全局数据结构和每一模块的接口**。
- 设计复审阶段：对前两个阶段得到的高层软件结构进行复审，必要时还可能需要对软件结构做一些精化处理。

## 接口设计

- 模块或软件构件间的接口设计
- 软件与其他软硬件系统之间的接口设计
- 软件与人（用户）之间的交互设计
  - 系统的接口设计（包括用户界面设计及与其他系统的接口设计）是由穿过边界的数据流定义的。
  - 在最终的系统中，数据流将成为用户界面中的表单、报表或与其他系统进行交互的文件或通信。

## 人机交互界面

​		人机交互界面是给用户使用的，为了设计好人机交互界面，设计者需要了解一下信息：

- 用户界面应具有怎样的特性
  - 可使用性：是用户界面设计最重要的目标，包括使用简单、界面一致、拥有help帮组功能、快速的系统响应和低的系统成本、具有容错能力等。
  - 灵活性：考虑到用户的特点、能力和知识水平，应该使用用户接口满足不同用户的要求。因此，对不同的用户，应用不同的界面形式，但不同的界面形式不应影响任务的完成。
  - 可靠性：用户界面的可靠性是指无障碍使用的间隔时间。用户界面应保证用户正确、可靠地使用系统，保证有关程序和数据的安全。
- 使用软件的用户是什么人
  - 外行型
  - 初学型
  - 熟练型
  - 专家型
- 用户怎样学习新的计算机系统进行交互
- 用户需要完成哪些工作
- 界面设计类型
  - 如果从用户与计算机交互的角度来看，用户界面设计类型主要有问题描述语言、数据表格、图形、菜单、对话、窗口等。在选用界面形式的时候，应该考虑每种类型的优点和限制，可以从以下几个方面来考察，进行选择
    - 使用的难易程度
    - 学习的难易程度
    - 操作速度
    - 复杂程度：该界面提供了什么功能、能否用新的方式组合这些功能以增强界面的功能
    - 控制：人机交互时，由计算机还是由人发起和控制对话
    - 开发难易程度：该界面设计是否有难度、开发工作量有多大

一个界面的设计通常使用一种以上的设计类型，每种类型与一个或一组任务相匹配

- 设计详细的交互
  - 一致性
  - 操作步骤少
  - 不要“亚播放”
  - 提供Undo功能
  - 减少人脑记忆的负担
  - 提高学习效率

## 数据库设计

​		在设计时必须要存储的数据及其格式进行设计。

- 文件设计（适合文件存储）
  - 数据量大的非结构化数据
  - 数据量大，信息松散，如历史记录、档案文件等
  - 非关系层次化数据。如系统配置文件
  - 对数据的存取速度要求极高的情况
  - 临时存放的数据
- 数据对象的映射
- 关系的映射

## 软件设计规约

​		软件设计规约对软件的组织或其组成部分的内部结构的描述，满足系统需求规约所制定的全部功能及其性能要求。

​		组成：概要设计规约、详细设计规约

**概要设计规约**

- 系统环境
  - 硬件、软件接口与人际界面
  - 外部定义的数据库
  - 与设计有关的限定条件
- 设计描述
  - 数据流和主要数据结构
  - 软件模块的结构
  - 模块之间的接口
- 对每个模块的描述
  - 处理过程外部行为
  - 界面定义
  - 数据结构
  - 必要的注释
- 文件的逻辑结构和全局数据
  - 文件的逻辑结构、记录描述以及访问方式
  - 交叉引用信息

**详细设计规约**

- 各处理过程的算法
- 算法所涉及的全部数据结构的描述，特别地，对于主要数据结构往往包括与算法实现有关的描述