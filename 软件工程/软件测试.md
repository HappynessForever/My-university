[TOC]

# 软件测试

### 什么是软件测试？它的目标是什么？

（1）测试是为了发现程序中的错误而执行程序的过程。

（2）好的测试方案是极可能发现迄今为止尚未发现的错误的测试方案。

（3）成功的测试是发现了迄今为止尚未发现的错误的测试。

### 软件测试准则

- 所有测试都应该能追溯到用户需求
- 应该远在测试开始之前就制定出测试计划。
- 把Pareto原理应用到软件测试中。
- 应该从小规模测试开始，并逐渐进行大规模测试。
- 穷举测试是不可能的。
- 为了达到最佳效果，应该由独立的第三方从事测试工作。

## 软件过程模型

- V模型
  - 是瀑布模型的变种
  - 反映了测试活动与软件开发活动（需求分析、设计、编码等等）的关系，描述了基本的开发过程和测试行为，明确地标明了测试过程中存在的不同级别，并且清楚地描述了这些测试阶段和开发过程中各个阶段的对应关系。
    - 单元测试对应纤细设计活动
    - 集成测试对应总体设计活动
    - 确认和系统测试对应需求分活动，验证系统设计
    - 验收测试对应确定用户需求
  - 特点：
    - 底层测试检验源代码的准确性
    - 高层测试验证是否满足用户的需求
  - 局限性：
    - 不能体现尽早地和不断地进行软件测试的原则
- W模型
  - W模型是在软件各个开发阶段应同步增加进行的测试，被演化为一种W模型，可以说是V模型的自然而然的发展。
  - 它强调测试伴随整个软件开发周期，而且测试的对象不仅仅是程序，需求、功能和设计同样要测试。
    - 把软件开发视为需求、设计、编码等一系列串行活动
    - 测试与开发是同步进行的，从而有利于尽早地发现问题
  - 特点：
    - 测试和开发是同步进行的
    - 软件开发和测试保持一种线性的前后关系。
  - 局限性：
    - 无法支持迭代、自发性、变更调整。
- H模型
  - H模型将测试活动完全独立出来，形成一个完全独立的流程，将测试准备活动和测试执行活动清晰地体现出来。
  - 特点：
    - 软件测试是一个独立的流程，贯穿产品整个生命周期，与其他流程并发进行
    - 不同的测试活动可以是按照某个次序先后进行的，但也可能是反复的，只要某个测试达到准备就绪点，测试执行活动就可以开展

## 软件测试类型

按照测试所处阶段不同，测试活动可以分为**单元测试**、**集成测试**、**系统测试**、**验收测试**和**回归测试**。

- 单元测试
  - 单元测试也叫模块测试。结构化方法下软件单元是函数或过程；而面向对象方法下软件单元是类方法/类。
  - 单元测试直接面向代码设计与结构。单元测试中一般都需要使用驱动程序和桩程序。
- 集成测试
  - 独立的软件单元（即模块）组合过程中所进行的测试称为集成测试（组装测试、联合测试）
  - 集成测试面向的是详细设计文档。
  - 结构化方法下集成测试的对象是组合在一起的多个模块，面向对象方法下集成测试的对象是相关的多个类。
    - 面向对象的集成测试
      - 按照设计阶段的说明画出对象图
      - 开发端口输入事件所驱动的类
      - 开发与主类直接相关的类
      - 将与主类直接相关的类集成
      - 对新集成的模块进行测试
      - 从已集成的模块中选一个新类作为下一步的集成类
- 系统测试（压力测试、性能测试、可用性测试）
  - 集成测试着重测试的是各个模块之间接口运行情况；而系统测试则是将系统软件作为整个计算机系统的一个元素，与计算机硬件、外设、数据和人员等其他元素结合起来所进行的测试
  - 系统测试对应于概要设计和需求分析，进行系统测试以确保其功能的准确性，以及在不同运行环境配置下系统的可重用性。
- 验收测试（Alpha测试、Beta测试）
  - 验收测试是一种以用户为主的测试，由客户端判断系统是否在可接受范围之内，软件开发人员和质量保证小组也同时参与
  - 由用户参与设计测试用例，使用操作界面进行数据输入，并分析测试输出结果，使用的测试数据一般为实际数据。
- 回归测试
  - 回归测试贯穿于整个测试周期中，重新运行原有的部分测试用例，保证改动过得系统没有产生新的错误，仍旧与软件需求保持一致。
  - 回归测试的根本目标在于检测新代码的正确运行，并且不影响其他已运行正确的功能。

## 逻辑覆盖

定义：逻辑覆盖以程序内部逻辑结构为基础设计测试用例。

- 语句覆盖
  - 就是设计测试用例，运行测试程序，使得每一可执行语句至少执行一次
- 判定覆盖（分支覆盖）
  - 设计测试用例，使程序中的每个逻辑判断的取真和取假分支至少尽力一次。
- 条件覆盖
  - 设计若干测试用例，使程序的每个判定的每个条件的可能取值至少满足一次。
- 判定条件覆盖
  - 使判定中每个条件的可能取值至少满足一次，并且使每个判定分支至少执行一次。
  - 判定条件覆盖能同时满足判定、条件两种覆盖标准。
- 条件组合覆盖：
  - 设计用例，使得每个判断表达式中条件的各种可能组合都至少出现一次。
- 路径覆盖：
  - 设计用例，覆盖程序中的每条可能路径。

## 基本路径测试

​		基本路径测试最早是由Tom McCabe提出的一种白盒测试技术，通过程序复杂性度量导出基本可执行路径集合，从而设计相应的测试用例，使得程序中的每一条可执行语句至少执行一次。

### 基本路径测试的步骤

- 根据给定的设计或源码画出正确的流图

- 根据公式计算出该流图的环形复杂度

- 确定线性独立路径的基本集合

- 设计可执行该基本集合中每条路径的测试用例

## 等价类划分

什么是黑盒测试技术？（功能测试、数据驱动测试）

把测试对象看做一个黑盒子，测试人员完全不考虑程序内部的逻辑结构和内部特性，只依据程序的需求规格说明书，检查程序的功能是否符合它的功能说明。

等价类划分：将所有可能的输入数据划分成若干个等价类，然后从每个一类中选取少数有代表性的数据作为测试用例。

- 等价类的划分原则：
  - 若输入条件规定了取值范围或值的个数，则可确立一个有效等价类和两个无效等价类。
  - 若输入条件规定了输入值的集合，或规定了“必须如何”的条件，则可确立一个有效等价类和一个无效等价类。
  - 如果规定了输入数据的个数，则类似地可以划分一个有效等价类和两个无效等价类。
  - 如果规定了输入数据必须遵循的规则，可确定一个有效等价类和若干个无效等价类
  - 若输入条件是一个布尔量，则可确定一个有效等价类和一个无效等价类。
  - 若知道已划分等价类中各元素在程序中处理方式不同，则应将此等价类进一步划分成更小的等价类。
- 等价类设计测试用例的步骤
  - 为每一个等价类规定一个唯一编号
  - 设计一个新的测试用例，使其尽可能多地覆盖尚未被覆盖的有效等价类，重复这一步骤指导所有的有效等价类都被覆盖为止。
  - 设计一个新的测试用例，使其仅覆盖一个尚未被覆盖的无效等价类，重复这一步，直到所有的无效等价类都被覆盖为止。

## 边界值分析

经验表明，处理边界情况时出现最容易发生错误

- 边界值分析的步骤
  - 首先确定边界情况
  - 选取的测试数据应该刚好等于、刚刚小于和刚刚大于边界值及中间值
- 边界选择的原则
  - 输入条件规定了取值范围
  - 输入条件规定了值的个数
  - 针对规格说明的每个输出条件
  - 规格说明给出的输入或输出域是有序集合
  - 内部数据结构
  - 分析规格说明

